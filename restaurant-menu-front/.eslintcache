[{"/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/index.js":"1","/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/App.js":"2","/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/components/AddMenu.js":"3","/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/components/MenuList.js":"4","/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/services/menu.service.js":"5","/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/components/UpdateMenu.js":"6"},{"size":264,"mtime":1612979933137,"results":"7","hashOfConfig":"8"},{"size":1018,"mtime":1612979932849,"results":"9","hashOfConfig":"8"},{"size":3043,"mtime":1612979932945,"results":"10","hashOfConfig":"8"},{"size":2927,"mtime":1612979933029,"results":"11","hashOfConfig":"8"},{"size":118,"mtime":1612979933149,"results":"12","hashOfConfig":"8"},{"size":3811,"mtime":1612979933101,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gt1ngt",{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"18"},"/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/index.js",[],"/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/App.js",[],["29","30"],"/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/components/AddMenu.js",[],"/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/components/MenuList.js",["31","32"],"import axios from \"axios\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { baseURL, headers } from \"./../services/menu.service\";\nimport { useHistory } from \"react-router-dom\";\nimport { UpdateMenu } from \"./UpdateMenu\";\n\nexport const MenuList = () => {\n  const [menus, setMenus] = useState([]);\n  const history = useHistory();\n  const countRef = useRef(0);\n\n  const [deleted, setDeleted] = useState(false);\n\n  useEffect(() => {\n    retrieveAllMenus();\n  }, [countRef]);\n\n  const retrieveAllMenus = () => {\n    axios\n      .get(`${baseURL}/menu/`, {\n        headers: {\n          headers,\n        },\n      })\n      .then((response) => {\n        setMenus(response.data);\n        console.log(menus);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  };\n\n  const deleteMenu = (id) => {\n    axios\n      .delete(`${baseURL}/menu/${id}/`, {\n        headers: {\n          headers,\n        },\n      })\n      .then((response) => {\n        setDeleted(true);\n        retrieveAllMenus();\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  };\n\n  const handleUpdateClick = (id) => {\n    history.push(`/menu/${id}/update/`);\n  };\n  return (\n    <div className=\"row justify-content-center\">\n      <div className=\"col\">\n        {deleted && (\n          <div\n            className=\"alert alert-danger alert-dismissible fade show\"\n            role=\"alert\"\n          >\n            Menu deleted!\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"alert\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n        )}\n\n        {menus &&\n          menus.map((menu, index) => (\n            <div className=\"card my-3 w-25 mx-auto\">\n              <div className=\"card-body\">\n                <h2 className=\"card-title font-weight-bold\">{menu.name}</h2>\n                <h4 className=\"card-subtitle mb-2\">{menu.price}</h4>\n                <p className=\"card-text\">{menu.description}</p>\n              </div>\n              <div classNameName=\"card-footer\">\n                <div\n                  className=\"btn-group justify-content-around w-75 mb-1 \"\n                  data-toggle=\"buttons\"\n                >\n                  <span>\n                    <button\n                      className=\"btn btn-info\"\n                      onClick={() => handleUpdateClick(menu.id)}\n                    >\n                      Update\n                    </button>\n                  </span>\n                  <span>\n                    <button\n                      className=\"btn btn-danger\"\n                      onClick={() => deleteMenu(menu.id)}\n                    >\n                      Delete\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n","/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/services/menu.service.js",[],"/home/koladev/restaurant-menu-tutorial/restaurant-menu-front/src/components/UpdateMenu.js",["33"],"import axios from \"axios\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { baseURL, headers } from \"./../services/menu.service\";\n\nexport const UpdateMenu = () => {\n  const initialMenuState = {\n    id: null,\n    name: \"\",\n    description: \"\",\n    price: 0,\n  };\n\n  let { id } = useParams();\n\n  const [currentMenu, setCurrentMenu] = useState(initialMenuState);\n  const [submitted, setSubmitted] = useState(false);\n  const countRef = useRef(0);\n\n  useEffect(() => {\n    retrieveMenu();\n  }, [countRef]);\n\n  const handleMenuChange = (e) => {\n    const { name, value } = e.target;\n    setCurrentMenu({ ...currentMenu, [name]: value });\n  };\n\n  const retrieveMenu = () => {\n    axios\n      .get(`${baseURL}/menu/${id}/`, {\n        headers: {\n          headers,\n        },\n      })\n      .then((response) => {\n        setCurrentMenu({\n          id: response.data.id,\n          name: response.data.name,\n          description: response.data.description,\n          price: response.data.price,\n        });\n        console.log(currentMenu);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  };\n\n  const updateMenu = () => {\n    let data = {\n      name: currentMenu.name,\n      description: currentMenu.description,\n      price: currentMenu.price,\n    };\n\n    axios\n      .put(`${baseURL}/menu/${id}/`, data, {\n        headers: {\n          headers,\n        },\n      })\n      .then((response) => {\n        setCurrentMenu({\n          id: response.data.id,\n          name: response.data.name,\n          description: response.data.description,\n          price: response.data.price,\n        });\n        setSubmitted(true);\n        console.log(response.data);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  };\n\n  const newMenu = () => {\n    setCurrentMenu(initialMenuState);\n    setSubmitted(false);\n  };\n\n  return (\n    <div className=\"submit-form\">\n      {submitted ? (\n        <div>\n          <div\n            className=\"alert alert-success alert-dismissible fade show\"\n            role=\"alert\"\n          >\n            Menu Updated!\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"alert\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <button className=\"btn btn-success\" onClick={newMenu}>\n            Update\n          </button>\n        </div>\n      ) : (\n        <div>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              required\n              value={currentMenu.name}\n              onChange={handleMenuChange}\n              name=\"name\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"description\"\n              required\n              value={currentMenu.description}\n              onChange={handleMenuChange}\n              name=\"description\"\n              default\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"price\">Price</label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"price\"\n              required\n              value={currentMenu.price}\n              onChange={handleMenuChange}\n              name=\"price\"\n            />\n          </div>\n\n          <button onClick={updateMenu} className=\"btn btn-success\">\n            Submit\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n",{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","severity":1,"message":"39","line":5,"column":10,"nodeType":"40","messageId":"41","endLine":5,"endColumn":20},{"ruleId":"42","severity":1,"message":"43","line":18,"column":8,"nodeType":"44","endLine":18,"endColumn":18,"suggestions":"45"},{"ruleId":"42","severity":1,"message":"46","line":23,"column":8,"nodeType":"44","endLine":23,"endColumn":18,"suggestions":"47"},"no-native-reassign",["48"],"no-negated-in-lhs",["49"],"no-unused-vars","'UpdateMenu' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'retrieveAllMenus'. Either include it or remove the dependency array.","ArrayExpression",["50"],"React Hook useEffect has a missing dependency: 'retrieveMenu'. Either include it or remove the dependency array.",["51"],"no-global-assign","no-unsafe-negation",{"desc":"52","fix":"53"},{"desc":"54","fix":"55"},"Update the dependencies array to be: [countRef, retrieveAllMenus]",{"range":"56","text":"57"},"Update the dependencies array to be: [countRef, retrieveMenu]",{"range":"58","text":"59"},[496,506],"[countRef, retrieveAllMenus]",[587,597],"[countRef, retrieveMenu]"]